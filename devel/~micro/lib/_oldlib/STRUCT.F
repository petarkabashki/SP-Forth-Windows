: STRUCT:
  WORDLIST DUP CREATE IMMEDIATE , HERE 0 , SWAP
  ALSO CONTEXT ! DEFINITIONS 0
  DOES>
  @ NextWord ROT
  SEARCH-WORDLIST IF
    STATE @ IF
      COMPILE,
    ELSE
      EXECUTE
    THEN
  ELSE
    ABORT" Not field."
  THEN
;

: ;STRUCT
  PREVIOUS
  DEFINITIONS
  SWAP !
;

: SIZEOF
  ' >BODY CELL+ @
;

: WITHTYPE
  ' >BODY @ ALSO CONTEXT !
; IMMEDIATE

: ENDWITHTYPE
  PREVIOUS
; IMMEDIATE
